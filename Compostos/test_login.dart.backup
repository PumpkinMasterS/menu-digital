import 'dart:convert';
import 'package:http/http.dart' as http;

void main() async {
  final url = Uri.parse('http://localhost:5000/api/auth/login');
  final body = json.encode({
    'email': 'test@example.com',
    'password': '123456',
  });
  
  final response = await http.post(
    url,
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
    },
    body: body,
  );
  
  print('Status Code: ${response.statusCode}');
  print('Response Body: ${response.body}');
  
  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    print('Token: ${data['data']['token']}');
    print('User: ${data['data']['user']['email']}');
  } else {
    print('Error: ${response.reasonPhrase}');
  }
}